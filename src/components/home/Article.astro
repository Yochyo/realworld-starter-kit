---
import { type Article } from "../../api/api";
export type Props = { article: Article };
let article = Astro.props.article;
// todo hier den article manuell uberschreiben funktioniert evt nicht wenn man im browser zuruck geht
---

<div class="article-preview">
  <div class="article-meta">
    <a href="/profile/eric-simons"><img src={article.author.image} /></a>
    <div class="info">
      <a href="/profile/eric-simons" class="author">{article.author.username}</a>
      <span class="date">{article.createdAt}</span>
    </div>
    <!-- todo favorited -->
    <button
      class={article.favorited
        ? "btn btn-primary btn-sm pull-xs-right"
        : "btn btn-outline-primary btn-sm pull-xs-right"}
    >
      <i class="ion-heart"></i>
      {` ${article.favoritesCount}`}
    </button>
  </div>
  <a href="/article/how-to-build-webapps-that-scale" class="preview-link">
    <h1>{article.title}</h1>
    <p>{article.description}</p>
    <span>Read more...</span>
    <ul class="tag-list">
      {article.tagList.map((tag) => <li class="tag-default tag-pill tag-outline">{tag}</li>)}
    </ul>
  </a>
</div>
