---
// todo the link of the active page should use the active css class
import { JwtManager } from "../../js/utils/jwt-manager";
import Maybe from "../common/Maybe.astro"

const isLoggedIn = JwtManager.serverSide.isLoggedIn(Astro)
---
<nav class="navbar navbar-light">
    <div class="container">
        <a class="navbar-brand" href="/">conduit</a>
        <ul class="nav navbar-nav pull-xs-right">
            <Maybe condition={!isLoggedIn}>
                <li class="nav-item">
                    <!-- Add "active" class when you're on that page" -->
                    <a class="nav-link active" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/login">Sign in</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/register">Sign up</a>
                </li>
            </Maybe>
            <Maybe condition={isLoggedIn}>
                <li class="nav-item">
                    <!-- Add "active" class when you're on that page" -->
                    <a class="nav-link active" href="/">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/editor"> <i class="ion-compose"></i>&nbsp;New Article </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/settings"> <i class="ion-gear-a"></i>&nbsp;Settings </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/profile/eric-simons">
                      <img src="" class="user-pic" />
                      Eric Simons
                    </a>
                  </li>
            </Maybe>
        </ul>
    </div>
</nav>